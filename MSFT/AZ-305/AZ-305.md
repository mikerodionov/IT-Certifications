# AZ-305: Designing Microsoft Azure Infrastructure Solutions

## OD/Functional groups

Design identity, governance, and monitoring solutions (25-30%)
Design data storage solutions (25-30%)
Design business continuity solutions (10-15%)
Design infrastructure solutions (25-30%)

## Design identity, governance, and monitoring solutions (25–30%)

### Design a solution for logging and monitoring

• Design a log routing solution
• Recommend an appropriate level of logging
• Recommend monitoring tools for a solution

Log Analytics - a service that helps you collect and analyze data.

- Azure Monitor stores log data in the workspace
- Data in a workspace is organized into tables with properties you can query

Log Analytics workspace provides:

- A geographic location for data storage
- Data isolation by granting different users access rights following one of recommended design strategies
- Scope for configuration of settings like pricing, tier, retention, and data capping

Log Analytics can aggregate the following data:

- Windows Event Logs > Events
- Syslog > Syslog
- Agents > Heartbeat
- Custom Logs > MyLog_CL
- Alert Rules > Alert

Use Case Scenarios

Azure Monitor / Application Insights

- You need to measure user experience and analyze users' behavior for all external facing applications
- You need to edit and run log queries
- You need data analysis and the creation of rich visual reports

Azure Workbooks / Log Analytics

- You need a solution for collecting, analyzing, and acting on telemetry from cloud and on-premises environments
- You need transaction diagnostics and performance statistics (client and server)
- You need usage information on request rates, response times, failure rates of an application

Considerations for workspace access control

Workspace deployment models include the following types:

- Centralized - All logs are stored in a central workspace and administered by a single team, with Azure Monitor providing differentiated access per team
- Decentralized - Each team has its own workspace created in a resource group they own and manage, and log data is segregated per resource
- Hybrid - Security audit compliance requirements further complicate this scenario because many organizations implement both deployment models in parallel

Consideration for access mode

The access mode is how a users accesses the workspace and what data they can access

Workspace/Resource permissions scopes

How does the access mode work?

Workspace-context

- You can view all logs in the workspace you have permission to
- Queries in this mode are scoped to all data in all tables in the workspace
- This is the access mode used when logs ate accesses with the workspace as the scope

Resource-context

- When you access the workspace for a particular resource, resource group, or subscription
- You can view logs only for resources in all tables that you have access to
- Queries in this mode are scoped to only data associated with that resource

Who is each model intended for?

Workspace-context - central administration
Resource context - application teams

What does a user require to view logs?

Workspace-context - permissions to the workspace
Resource-context - read access to the resource

What is the scope of permissions?

Workspace-context - Workspace
Resource-context - Azure resource

Azure Monitor Capabilities

- Analysis, alerting, and streaming to external systems
- Data sources: Application, OS, Azure Resources, Azure Subscription, Azure Tenant, Custom Sources
- Data stores: Metrics, Logs
- Based on data: Inights (Application, Container, VM, Monitoring Solution), Visualize (Dashboards, Views, Power BI, Workbooks), Analyze (Metric Analytics, Log Analytics), Respond (Alerts, Autoscale), Integrate (Logic Apps, Export APIs)

Identify data sources and access method

Azure Monitor collects data automatically from a range of components

- Data tiers go from Azure applications (highest tier) to Azure platform components (lowest tier)
- The method of accessing data from each tier varies - for example, installing an agent
- Each data tier can stream to different external systems
- Prioritize and deliberate on what data sources you need

Data Sources (some of them need specific agents)

- Application data
- OS data
  - Diagnostics extension - Azure Monitoring Metrics (Windows only), Azure Event Hubs, and Azure Storage
  - Log Analytics agent - Log Analytics workspace
  - Dependency agent - VM Insights
- Azure resources data
- Azure subscription data
  - Azure directory - Azure Monitor logs, Azure storage (archiving)
- Azure tenant data

When to use identity protection

Identity protection is an Azure AD tool that automates the detection and remediation of identity-based risks.

- Configure the policies and actively review the results
- Set the sign-in risk policy to Medium and above, and allow self-remediation options
- Set for the user risk policy threshold to High
- Allow for excluding users - emergency access or break-glass administrator accounts
- Send data to Conditional Access or other security information and event management (SIEM) tool

### Design authentication and authorization solutions

• Recommend a solution for securing resources with role-based access control
• Recommend an identity management solution
• Recommend a solution for securing identities

### Design governance

• Recommend an organizational and hierarchical structure for Azure resources
• Recommend a solution for enforcing and auditing compliance

### Design identities and access for applications

• Recommend solutions to allow applications to access Azure resources
• Recommend a solution that securely stores passwords and secrets
• Recommend a solution for integrating applications into Azure Active Directory (Azure AD)
• Recommend a user consent solution for applications

## Design data storage solutions (25–30%)

Design a data storage solution for relational data
• Recommend database service tier sizing
• Recommend a solution for database scalability
• Recommend a solution for encrypting data at rest, data in transmission, and data in use
Design data integration
• Recommend a solution for data integration
• Recommend a solution for data analysis
Recommend a data storage solution
• Recommend a solution for storing relational data
• Recommend a solution for storing semi-structured data
• Recommend a solution for storing non-relational data
Design a data storage solution for non-relational data
• Recommend access control solutions to data storage
• Recommend a data storage solution to balance features, performance, and cost
• Design a data solution for protection and durability
Design business continuity solutions (10–15%)
Design a solution for backup and disaster recovery
• Recommend a recovery solution for Azure, hybrid, and on-premises workloads that meets
recovery objectives (Recovery Time Objective [RTO], Recovery Level Objective [RLO], Recovery
Point Objective [RPO])
• Understand the recovery solutions for containers
• Recommend a backup and recovery solution for compute
• Recommend a backup and recovery solution for databases
• Recommend a backup and recovery solution for unstructured data
Design for high availability
• Identify the availability requirements of Azure resources
• Recommend a high availability solution for compute
• Recommend a high availability solution for non-relational data storage
• Recommend a high availability solution for relational data storage
Design infrastructure solutions (25–30%)
Design a compute solution
• Recommend a virtual machine-based compute solution
• Recommend an appropriately sized compute solution based on workload requirements
• Recommend a container-based compute solution
• Recommend a serverless-based compute solution
Design an application architecture
• Recommend a caching solution for applications
• Recommend a messaging architecture
• Recommend an event-driven architecture
• Recommend an automated deployment solution for your applications
• Recommend an application configuration management solution
• Recommend a solution for API integration
Design migrations
• Evaluate a migration solution that leverages the Cloud Adoption Framework for Azure
• Assess and interpret on-premises servers, data, and applications for migration
• Recommend a solution for migrating applications and virtual machines
• Recommend a solution for migrating databases
• Recommend a solution for migrating unstructured data
Design network solutions
• Recommend a network architecture solution based on workload requirements
• Recommend a connectivity solution that connects Azure resources to the internet
• Recommend a connectivity solution that connects Azure resources to on-premises networks
• Optimize network performance for applications
• Recommend a solution to optimize network security
• Recommend a load balancing and routing solution

## Useful links

[Preparing for AZ-305 - Design identity, governance, and monitoring solutions (segment 1 of 4) - 20,55 min](https://docs.microsoft.com/en-us/shows/exam-readiness-zone/preparing-for-az-305-design-identity-governance-and-monitoring-solutions-segment-1-of-4)

[Preparing for AZ-305 - Design data storage solutions (segment 2 of 4)](https://docs.microsoft.com/en-us/shows/exam-readiness-zone/preparing-for-az-305-design-data-storage-solutions-segment-2-of-4)

[Preparing for AZ-305 - Design business continuity solutions (segment 3 of 4)](https://docs.microsoft.com/en-us/shows/exam-readiness-zone/preparing-for-az-305-design-business-continuity-solutions-segment-3-of-4)

[Preparing for AZ-305 - Design infrastructure solutions (segment 4 of 4)](https://docs.microsoft.com/en-us/shows/exam-readiness-zone/preparing-for-az-305-design-infrastructure-solutions-segment-4-of-4)
